<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Version control and Documentation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="1_class_notes_files/libs/clipboard/clipboard.min.js"></script>
<script src="1_class_notes_files/libs/quarto-html/quarto.js"></script>
<script src="1_class_notes_files/libs/quarto-html/popper.min.js"></script>
<script src="1_class_notes_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="1_class_notes_files/libs/quarto-html/anchor.min.js"></script>
<link href="1_class_notes_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="1_class_notes_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="1_class_notes_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="1_class_notes_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="1_class_notes_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Version control and Documentation</h1>
<p class="subtitle lead">class notes</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>In this class, we will delve into two essential tools that facilitate code sharing and ensure its reproducibility. In the first place, we will delve into version control and collaboration using a very powerful tool: <strong>GitHub</strong>. Subsequently, we will shift our attention to code documentation through <strong>R Markdown</strong>. R Markdown will allow us to blend code, narratives, and visualizations into dynamic, easily comprehensible documents.</p>
</section>
<section id="github" class="level1">
<h1>GitHub</h1>
<p>Imagine you’ve poured your heart and soul into a coding project, only to inadvertently erase everything with a single misstep. Or picture a scenario where you’re part of a collaborative team, where each member is working on different aspects of a shared project, but simultaneous work on the same code introduces errors. In these and countless other situations, GitHub will come to the rescue: it will work as your safety net and collaboration hub.</p>
<p>Git<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> is a distributed version control software used to track changes in our code and collaborate. It is specially useful to deal with non-linear workflows<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>, that is to say, it will allow us to comfortably explore multiple paths and later return to our starting point if necessary. <a href="https://github.com/">GitHub</a> is a web-based hosting service for git repositories, which will serve as a user interface<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</p>
<p>A Git <strong>repository</strong> is basically a folder containing all your project files and each file’s <strong>revision history</strong>. This is where we will save our code, relevant data sets, images, and any other elements<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> we need to develop any project, including academic research, software development, a presentation, etc. Repositories can be <a href="https://docs.github.com/en/repositories/creating-and-managing-repositories/about-repositories#about-repository-visibility">public or private</a>, and their ownership can be shared with your collaborators.</p>
<p>Git is one of the fundamental tools for collaboration and <strong>teamwork</strong>. As we engage in increasingly complex projects and collaborate with larger teams, the ability to keep a record of all changes (and the possibility to undo them!) becomes crucial. GitHub allows us to store information about all changes made, including details such as when they were made, who made them, and the reasons behind them.</p>
<p>When working with GitHub, our coding will mainly be carried out on a <strong>local</strong> copy of the repository on our computer. As we make changes, we can push those changes to the <strong>remote</strong> repository stored on GitHub. Additionally, we can pull any changes made by our collaborators from the GitHub repository to update our local copy. This workflow ensures that all team members are working with the latest version of the project.</p>
<section id="your-user" class="level2">
<h2 class="anchored" data-anchor-id="your-user">Your user</h2>
<p>In order to use GitHub, the first step will be to create and set up our <strong>account</strong><a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>,<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>. We therefore need to create an account in <a href="https://github.com/">GitHub</a> and verify our email<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a>.</p>
<p>The next step is to <a href="https://git-scm.com/downloads">install Git</a><a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a>. We will also need to create a <strong>personal access token</strong>,<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a> the last step to authenticate our identity when interacting with GitHub from a device. The first time we try to interact with a remote GitHub repository from our device, GitHub will ask for our user name and our token<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a>. In order to avoid authentication every single time we interact with GitHub, we will globally set up the <a href="https://docs.github.com/en/get-started/getting-started-with-git/setting-your-username-in-git"><strong>user name</strong></a><a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a> and <a href="https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-personal-account-on-github/managing-email-preferences/setting-your-commit-email-address"><strong>email</strong></a><a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a> associated with all modifications in our repository<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a>.</p>
</section>
<section id="main-commands" class="level2">
<h2 class="anchored" data-anchor-id="main-commands">Main commands</h2>
<p>The following list describes some of the main commands we will use when working with Git<a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/git_workflow.png" class="img-fluid figure-img" width="600"></p>
<figcaption class="figure-caption">Artwork by @allison_horst</figcaption>
</figure>
</div>
<ul>
<li><p><a href="https://github.com/git-guides/git-clone"><strong>git clone</strong></a>: Clone (download) a repository that already exists on GitHub, including all of the files, branches, and commits.</p></li>
<li><p><a href="https://github.com/git-guides/git-pull"><strong>git pull</strong></a>: It synchronizes the local development repository with updates from the corresponding remote repository on GitHub. In other words, it fetches and incorporates the modifications made by our team into our local repository.</p></li>
<li><p><a href="https://github.com/git-guides/git-status"><strong>git status</strong></a>: This command displays our current status, including the state of local changes, the branch we are on, and any other relevant information.</p></li>
<li><p><strong>git add + git commit + git push</strong>: These commands will enable us to upload our local changes to the repository.</p>
<ul>
<li><p><a href="https://github.com/git-guides/git-add"><strong>git add</strong></a>: This is the initial step where we add new or modified files in the local working directory to the Git staging area. This process prepares the files to be included in the next commit.</p></li>
<li><p><a href="https://github.com/git-guides/git-commit"><strong>git commit</strong></a> -m”<em>a descriptive message</em>”: This command records our changes in the version history. Anything that has been staged using <em>git add</em> will be permanently stored in the history. Additionally, when using this command, we can include a descriptive message that explains the nature of the changes we made.</p></li>
<li><p><a href="https://github.com/git-guides/git-push"><strong>git push</strong></a>: Uploads all local commits to the remote repository.</p></li>
</ul></li>
</ul>
</section>
<section id="repositories" class="level2">
<h2 class="anchored" data-anchor-id="repositories">Repositories</h2>
<p>You can easily create a new repository<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a> on your personal account using the <span class="math inline">\(+\)</span> drop-down menu in the upper-right corner of <a href="https://github.com/">GitHub</a>, and selecting <em>New repository</em>. You will need to chose the repository’s name, add a brief description and decide on its visibility.</p>
<p>Your repositories should be organized and structured in a similar manner to an <strong>R project</strong> (including separate directories for data, scripts, results, etc.). By structuring your repositories in this way, you can enhance the maintainability and reproducibility of your projects.</p>
<p>However, we will also encounter some files that are specific to the functioning of Git.</p>
<ul>
<li>GitHub lets you add a <strong>README</strong> file when you create a new repository, which should contain information about your project. README files are written in the plain text Markdown language.<a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a></li>
</ul>
<ul>
<li><p>You can configure Git to ignore files you don’t want to check in to GitHub (such as extremely large data sets). The <strong>.gitignore</strong> file in your repository will list which files and directories to ignore.</p></li>
<li><p>Public repositories on GitHub are often used to share open source software. In this case, you’ll need to <strong>license</strong> it so that others are free to use, change, and distribute the software.</p></li>
</ul>
<p>Once you have created a repository, click the <em>Code</em> tab in the upper-left corner of of the screen, click on the green <em>&lt;&gt; Code</em> button (upper-right corner), choose the <em>Local</em> tab and copy the link under the <em>HTTPS</em> option. We will be using this clone URL to create a local copy of the repository in our device.</p>
</section>
<section id="choosing-how-to-interact-with-github" class="level2">
<h2 class="anchored" data-anchor-id="choosing-how-to-interact-with-github">Choosing how to interact with GitHub</h2>
<p>There are several interfaces and methods we can use to interact with GitHub. Feel free to chose what works best for your needs.</p>
<p>We will focus on how to integrate RStudio and Git<a href="#fn17" class="footnote-ref" id="fnref17" role="doc-noteref"><sup>17</sup></a>,<a href="#fn18" class="footnote-ref" id="fnref18" role="doc-noteref"><sup>18</sup></a><span class="citation" data-cites="bryanHappyGitGitHub2021">(<a href="#ref-bryanHappyGitGitHub2021" role="doc-biblioref">Bryan 2021</a>)</span>. In RStudio, we can start a new Project using: File &gt; New Project &gt; Version Control &gt; Git. In <em>Repository URL</em>, we will paste the clone URL of the GitHub repository we just copied. By default, R will use as project directory name the repository name. Note where the Project will be saved locally, or choose any folder you want using the <em>Browse…</em> button under <em>Create project as subdirectory of</em>. Once you are done, click <em>Create Project</em>.</p>
<p>You should find yourself in a new local RStudio Project which contains all files in your repository. In the environment pane you should now see a new tab named <em>Git</em>. After making any changes in your project (for example, creating a script and writing some code), modified or created files will appear listed in the Git tab. In order to upload any of them to your remote repository, you should:</p>
<ol type="1">
<li><p>Check the <em>Staged</em> box for the files you want to upload.</p></li>
<li><p>Click <em>Commit</em> (a button on the upper-left corner of the Git tab featuring a check mark)<a href="#fn19" class="footnote-ref" id="fnref19" role="doc-noteref"><sup>19</sup></a>.</p></li>
</ol>
<ol start="3" type="1">
<li><p>A pop-up window will appear: write a brief description of your changes in the box under <em>Commit message</em> and click the <em>Commit</em> button.</p></li>
<li><p>Once the changes have been committed, you can upload them to GitHub using the <em>Push</em> button (an upwards green arrow)<a href="#fn20" class="footnote-ref" id="fnref20" role="doc-noteref"><sup>20</sup></a>.</p></li>
</ol>
<p>If you wanted to bring remote changes of the repository to your local version, you can use the <em>Pull</em> button (an downwards light blue arrow)<a href="#fn21" class="footnote-ref" id="fnref21" role="doc-noteref"><sup>21</sup></a>.</p>
</section>
<section id="advanced-git" class="level2">
<h2 class="anchored" data-anchor-id="advanced-git">Advanced git</h2>
<section id="branches-and-pull-requests" class="level3">
<h3 class="anchored" data-anchor-id="branches-and-pull-requests">Branches and pull requests</h3>
<p><strong>Branching</strong> lets you simultaneously have multiple different versions of a repository<a href="#fn22" class="footnote-ref" id="fnref22" role="doc-noteref"><sup>22</sup></a>,<a href="#fn23" class="footnote-ref" id="fnref23" role="doc-noteref"><sup>23</sup></a>. This is a helpful tool when you want to experiment and make edits without changing the main source of code. The work done on different branches will not show up on the main branch (or affect it) unless you <em>merge</em> it.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/branching.png" class="img-fluid figure-img" width="600"></p>
<figcaption class="figure-caption">GitHub Documentation</figcaption>
</figure>
</div>
<p>When you open a <strong>pull request</strong>, you’re proposing your changes and requesting that someone review and pull in your contribution and merge them into their branch<a href="#fn24" class="footnote-ref" id="fnref24" role="doc-noteref"><sup>24</sup></a>. Once your branch is merged, you can safely delete it <a href="#fn25" class="footnote-ref" id="fnref25" role="doc-noteref"><sup>25</sup></a>.</p>
</section>
<section id="forks" class="level3">
<h3 class="anchored" data-anchor-id="forks">Forks</h3>
<p>A <strong>fork</strong> is a new repository that shares code and visibility settings with the original repository<a href="#fn26" class="footnote-ref" id="fnref26" role="doc-noteref"><sup>26</sup></a>, that is to say, a copy of the repository where we can make any modifications we like. However, a fork is not just a copy because after you fork a repository, you can <strong>fetch updates</strong> from the original repository to keep your fork up to date, and you can also propose the changes from your fork to the main repository using <strong>pull requests</strong>.</p>
<p>Anybody can fork a public repository and propose changes which may or may not be accepted by the repository owners. This is a frequent collaboration dynamic in <strong>open source projects</strong>. Deleting a fork will not delete or affect in any way the original repository.</p>
</section>
<section id="jobs-and-workflows" class="level3">
<h3 class="anchored" data-anchor-id="jobs-and-workflows">Jobs and workflows</h3>
<p><strong>GitHub Actions</strong> is a continuous integration and continuous delivery (CI/CD) platform that allows you to automate your pipeline. It lets you trigger <strong>workflows</strong> (a configurable automated process) when certain <strong>events</strong> happen in your repository.</p>
<p>A workflow run is made up of one or more <strong>jobs</strong> (a set of steps), which run in parallel by default. Each job either runs a <strong>script</strong> that you define, or an <strong>action</strong> (a custom application for the GitHub Actions platform that performs a complex but frequently repeated task) <a href="#fn27" class="footnote-ref" id="fnref27" role="doc-noteref"><sup>27</sup></a>.</p>
<hr>
</section>
</section>
</section>
<section id="r-markdown" class="level1">
<h1>R Markdown</h1>
<p>R Markdown files (.Rmd) are designed to contain your <strong>code</strong> and <strong>results</strong>, as well as the <strong>narrative</strong> surrounding the data. Therefore, they facilitate teamwork and are also useful to communicate our findings.</p>
<section id="why-r-markdown" class="level2">
<h2 class="anchored" data-anchor-id="why-r-markdown">Why R Markdown?</h2>
<p>Some reasons to use RMarkdown <span class="citation" data-cites="alzahawishilaanWritingReproducibleManuscripts2021">(<a href="#ref-alzahawishilaanWritingReproducibleManuscripts2021" role="doc-biblioref">Alzahawi 2021</a>)</span>:</p>
<ul>
<li><p>Avoid the common errors (and time consumed) that result from analyzing data using a different software from the one used to communicate your results (no more copy/pasting and/or reformatting all results after every modification!). All results and citations in your reports will be automatically updated after any modification.</p></li>
<li><p>Improve your team-work and code reproducibility by using a report structure specially designed for you to clearly explain your methodology and result interpretation as you navigate your way through the data analysis process.</p></li>
<li><p>R Markdown provides the flexibility of sharing reports in two distinct ways. You can distribute a rendered version of your report with hidden code to those interested in a high-level overview of the procedure and results, while also sharing the .Rmd file itself with individuals who need to verify (or modify) the underlying code.</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/rmarkdown_wizards.png" class="img-fluid figure-img" width="800"></p>
<figcaption class="figure-caption">Artwork by @allison_horst</figcaption>
</figure>
</div>
<p>Some arguments against RMarkdown:</p>
<ul>
<li><p>The learning curve can be steep.</p></li>
<li><p>Barriers to collaborating with others: all your team must be able to use R/RMarkdown (and additional tools such as GitHub).</p></li>
</ul>
<p>Customizing the R Markdown format can be both a fun and time-consuming task. However, the good news is that a variety of templates and themes are readily available to simplify this process<a href="#fn28" class="footnote-ref" id="fnref28" role="doc-noteref"><sup>28</sup></a>.</p>
</section>
<section id="creating-an-r-markdown-document" class="level2">
<h2 class="anchored" data-anchor-id="creating-an-r-markdown-document">Creating an R Markdown document</h2>
<p>We can create a new R Markdown file in RStudio using: <em>File</em> &gt; <em>New File</em> &gt; <em>R Markdown…</em>.</p>
<p>While editing your R Markdown (.Rmd) file, you have the option to work in either <em>Source</em> mode or <em>Visual</em> mode. The <em>Source</em> format in RStudio displays the raw, unrendered content of an .Rmd file, showing the actual code and Markdown syntax. In contrast, the <em>Visual</em> format provides a preview of the document with the Markdown elements transformed into their formatted representation, allowing you to see how the final document will appear when rendered.</p>
<section id="general-set-up" class="level3">
<h3 class="anchored" data-anchor-id="general-set-up">General set up</h3>
<p><strong>YAML</strong> metadata is placed at the very beginning of the document and contains basic metadata about the document (title, author, date, etc.) and rendering instructions (mainly the output type and its settings) <span class="citation" data-cites="xieMarkdownCookbook2020">(<a href="#ref-xieMarkdownCookbook2020" role="doc-biblioref">Xie, Dervieux, and Riederer 2020</a>)</span>. For example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"My R Markdown Report"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"My name"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> </span><span class="st">"html_document"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>It’s important to highlight that R Markdown supports many output document and presentation formats (such as .doc, .pdf, etc.). Visit <a href="https://bookdown.org/yihui/rmarkdown/output-formats.html">this</a> site for the full list.</p>
<p>An R Markdown document includes prose (narratives) and code. Your prose will not be evaluated as an R code, and must be formatted according to the Markdown syntax we will discuss later. On the other hand, there are two types of code in an Rmd document: <strong>code chunks</strong> and <strong>inline R code</strong> <span class="citation" data-cites="xieMarkdownCookbook2020">(<a href="#ref-xieMarkdownCookbook2020" role="doc-biblioref">Xie, Dervieux, and Riederer 2020</a>)</span>.</p>
<p>Inline R code can be is embedded in the narratives of the document using the syntax <em>`r your_code`</em>. This feature is useful to refer to your results with no need to manually update your observations every time your results change.</p>
<p>A code chunk<a href="#fn29" class="footnote-ref" id="fnref29" role="doc-noteref"><sup>29</sup></a> starts with <code>```{r}</code> and ends with <code>```</code>. You can write any number of lines of code in it. For example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode md code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>::: {.cell}</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="in">```{.r .cell-code}</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">+</span> <span class="dv">3</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>a <span class="sc">+</span> b</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>::: {.cell-output .cell-output-stdout}</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="in">[1] 6</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>:::</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Code chunks can be labelled (the chunk label for each chunk is assumed to be unique within the document) and it is also possible to set up their <a href="https://yihui.org/knitr/options/">options</a> in order to decide whether the code will be evaluated<a href="#fn30" class="footnote-ref" id="fnref30" role="doc-noteref"><sup>30</sup></a>, included in our report<a href="#fn31" class="footnote-ref" id="fnref31" role="doc-noteref"><sup>31</sup></a>, hidden keeping its results<a href="#fn32" class="footnote-ref" id="fnref32" role="doc-noteref"><sup>32</sup></a>, etc. We can combine different conditions separating them with a comma. For example: <code>{r label = my_label, eval = FALSE, include = TRUE, echo = TRUE}</code>.</p>
<p>You may use <code>knitr::opts_chunk$set()</code> to change the default values of chunk options in the whole document (this will usually be our first code chunk).</p>
</section>
<section id="knitting" class="level3">
<h3 class="anchored" data-anchor-id="knitting">Knitting</h3>
<p>In order to create our output file (html document, pdf, word, etc.) we will use the <em>Knit</em> command<a href="#fn33" class="footnote-ref" id="fnref33" role="doc-noteref"><sup>33</sup></a> on the top of our source pane, which will execute all code embedded within the .Rmd file, and prepare the code output to be displayed within the specified output document type. The whole document will be converted to the output format specified in the output parameter.</p>
</section>
</section>
<section id="markdown-syntax" class="level2">
<h2 class="anchored" data-anchor-id="markdown-syntax">Markdown syntax</h2>
<p><strong>.Rmd</strong> files integrate the <em>R</em> and <em>Markdown</em> languages. Markdown is a markup language for creating formatted text using a plain-text editor with simple, unobtrusive syntax<a href="#fn34" class="footnote-ref" id="fnref34" role="doc-noteref"><sup>34</sup></a>.</p>
<p>Text will be italic if surrounded by underscores or asterisks, e.g., <code>_text_</code> or <code>*text*</code>. Bold text is produced using a pair of double asterisks (<code>**text**</code>). A pair of tildes (~) turn text to a subscript and a pair of carets (^) produce a superscript.</p>
<p>Section <strong>headers</strong> can be written after a number of <code>#</code> signs:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># First-level header</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">## Second-level header</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">### Third-level header</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Unordered <strong>list items</strong> start with <code>*</code>, <code>-</code>, or <code>+</code>, and you can nest one list within another list by indenting the sub-list:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>one item</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>one item</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>one item</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="ss">    * </span>one more item</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="ss">    * </span>one more item</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="ss">    * </span>one more item</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Ordered</strong> list items start with numbers (you can also nest lists within lists):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>the first item</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>the second item</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>the third item</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Hyperlinks are created using the syntax <code>[text](link)</code>, e.g., <code>[RStudio](https://www.rstudio.com)</code>. The syntax for images is similar: we just need to add an exclamation mark, e.g., <code>![alt text or image title](path/to/image.png)</code>. Footnotes are put inside the square brackets after a caret <code>^[]</code> <span class="citation" data-cites="xieMarkdownDefinitiveGuide2019">(<a href="#ref-xieMarkdownDefinitiveGuide2019" role="doc-biblioref">Xie, Allaire, and Grolemund 2019</a>)</span>.</p>
<p>Math expressions can be written using inline LaTeX equations between a pair of dollar signs using the LaTeX syntax, such as <code>$\frac{1}{2} + \frac{1}{2} = 1$</code>, which renders <span class="math inline">\(\frac{1}{2} + \frac{1}{2} = 1\)</span></p>
<hr>
</section>
</section>
<section id="discussion" class="level1">
<h1>Discussion</h1>
<p>The tools that enable us to share our work and contribute to the development of collaborative knowledge significantly enhance the <strong>quality</strong>, <strong>reproducibility</strong> and <strong>impact</strong> of science <span class="citation" data-cites="unescoUNESCORecommendationOpen2021">(<a href="#ref-unescoUNESCORecommendationOpen2021" role="doc-biblioref">UNESCO 2021</a>)</span>.</p>
<p>Making our data sets and code openly accessible compels us to be <strong>explicit</strong> about our methodological <strong>decisions</strong> but also about <strong>identifying our project collaborators</strong> (both vital factors in assessing potential biases!) <span class="citation" data-cites="dignazioDataFeminism2023">(<a href="#ref-dignazioDataFeminism2023" role="doc-biblioref">D’ignazio and Klein 2023</a>)</span>. Transparency is essential for achieving greater public <strong>accountability</strong>, as well as ensuring vigilance concerning the possible <strong>consequences</strong> of research activities, scientist’s (and institution’s) intellectual <strong>integrity</strong>, and their respect for <strong>ethical</strong> principles <span class="citation" data-cites="unescoUNESCORecommendationOpen2021">(<a href="#ref-unescoUNESCORecommendationOpen2021" role="doc-biblioref">UNESCO 2021</a>)</span>. In this regard, the widespread adoption of algorithmic decision-making systems in both private and public institutions (which consistently produce biased and discriminatory outcomes) highlights the critical need for society to have the ability to comprehend and openly discuss their design <span class="citation" data-cites="oneilWeaponsMathDestruction2016">(<a href="#ref-oneilWeaponsMathDestruction2016" role="doc-biblioref">O’Neil 2016</a>)</span>.</p>
<p>Open-source software developers serve as role models for the scientific community. Their commitment to sharing code and supporting one another fosters an environment of collaboration and knowledge exchange, resulting in an exponential development of new functions and packages. This collaborative spirit not only accelerates the pace of innovation but also fosters the creation of <strong>inclusive</strong> communities<a href="#fn35" class="footnote-ref" id="fnref35" role="doc-noteref"><sup>35</sup></a>, encouraging individuals from diverse backgrounds and skill levels to actively participate in projects.</p>
</section>
<section id="references" class="level1 unnumbered">


</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-alzahawishilaanWritingReproducibleManuscripts2021" class="csl-entry" role="listitem">
Alzahawi, Shilaan. 2021. <span>“Writing Reproducible Manuscripts in <span>R</span>.”</span>
</div>
<div id="ref-bryanHappyGitGitHub2021" class="csl-entry" role="listitem">
Bryan, Jennifer. 2021. <em>Happy <span>Git</span> and <span>GitHub</span> for the <span class="nocase">useR</span></em>.
</div>
<div id="ref-dignazioDataFeminism2023" class="csl-entry" role="listitem">
D’ignazio, Catherine, and Lauren F. Klein. 2023. <em>Data Feminism</em>. <span>S.l.</span>: <span>MIT PRESS</span>.
</div>
<div id="ref-githubGitHubDocumentation" class="csl-entry" role="listitem">
GitHub. n.d. <span>“<span>GitHub Documentation</span>.”</span> https://docs.github.com/en.
</div>
<div id="ref-oneilWeaponsMathDestruction2016" class="csl-entry" role="listitem">
O’Neil, Cathy. 2016. <em>Weapons of Math Destruction: How Big Data Increases Inequality and Threatens Democracy</em>. First edition. <span>New York</span>: <span>Crown</span>.
</div>
<div id="ref-unescoUNESCORecommendationOpen2021" class="csl-entry" role="listitem">
UNESCO. 2021. <span>“<span>UNESCO Recommendation</span> on <span>Open Science</span>.”</span> <span>UNESCO</span>. <a href="https://doi.org/10.54677/MNMH8546">https://doi.org/10.54677/MNMH8546</a>.
</div>
<div id="ref-xieMarkdownDefinitiveGuide2019" class="csl-entry" role="listitem">
Xie, Yihui, J. J. Allaire, and Garrett Grolemund. 2019. <em>R <span>Markdown</span>: The Definitive Guide</em>. <span>Boca Raton</span>: <span>CRC Press, Taylor and Francis Group</span>.
</div>
<div id="ref-xieMarkdownCookbook2020" class="csl-entry" role="listitem">
Xie, Yihui, Christophe Dervieux, and Emily Riederer. 2020. <em>R Markdown Cookbook</em>. 1st ed. The <span>R Series</span>. <span>Boca Raton</span>: <span>Taylor and Francis, CRC Press</span>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Throughout this document, we will heavily rely on GitHub’s documentation files <span class="citation" data-cites="githubGitHubDocumentation">(<a href="#ref-githubGitHubDocumentation" role="doc-biblioref">GitHub, n.d.</a>)</span>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>We will get back to this subject when discussing branches.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>On the other hand, GitHub also functions as a <strong>social network</strong>, allowing users to showcase their work and contributions. People may explore your GitHub profile to gain insights into your professional portfolio and the projects you’ve been involved in.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>There are, however, <a href="https://docs.github.com/en/repositories/creating-and-managing-repositories/about-repositories#limits-for-viewing-content-and-diffs-in-a-repository">limits</a> to the size of the files that can be uploaded to GitHub. Nonetheless, it’s a good practice to keep all the files we use in our workflow within the same working repository (including large files). While we may not upload everything to GitHub (as explained further below, this can be set up using the <code>.gitignore</code> file), we can share large files through other platforms, such as <em>Dropbox</em>, or provide clear indications of the source from which we obtained these files (so that anyone collaborating on our code can easily access the same materials).<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p><a href="https://docs.github.com/en/get-started/onboarding/getting-started-with-your-github-account">GitHub’s documentation</a> to help you get started.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>In this document, we will describe how to authenticate and clone repositories using HTTPS (as recommended by Git), you can find instructions to use SSH instead <a href="https://docs.github.com/en/get-started/quickstart/set-up-git#authenticating-with-github-from-git">here</a>.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p><a href="https://docs.github.com/en/get-started/signing-up-for-github/verifying-your-email-address#error-page-after-clicking-verification-link">Trouble verifying your email?</a><a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>Need help?(https://github.com/git-guides/install-git)<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>You can find a step by step guide to set up your personal access token <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens">here</a>.<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p>We should see the following output when trying to use a command: <br> Username: <em>Your user name</em> <br> Password: <em>Your personal access token</em><a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11"><p>We will use the command: <br> git config –global user.name “<em>Your user name</em>”<a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12"><p>We will use the command: <br> git config –global user.email “<em>Your email</em>”<a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn13"><p>If you are using a Mac, you will also need to <a href="https://git-scm.com/book/en/v2/Git-Tools-Credential-Storage">store your password</a>.<a href="#fnref13" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn14"><p>You can find more commands in the <a href="https://training.github.com/downloads/github-git-cheat-sheet/">Git cheat sheet</a> or the <a href="https://ndpsoftware.com/git-cheatsheet.html#loc=remote_repo;">Visual Git cheat sheet</a>.<a href="#fnref14" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn15"><p>For more details, <a href="https://docs.github.com/en/repositories/creating-and-managing-repositories/creating-a-new-repository">here</a> is a step by step tutorial.<a href="#fnref15" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn16"><p>A <a href="https://www.markdownguide.org/cheat-sheet/">cheat sheet</a> to help you out.<a href="#fnref16" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn17"><p>More details on <a href="https://happygitwithr.com/rstudio-git-github.html">how to integrate RStudio and Git</a>. Something went <a href="https://happygitwithr.com/rstudio-see-git.html">wrong</a>? <span class="citation" data-cites="bryanHappyGitGitHub2021">(<a href="#ref-bryanHappyGitGitHub2021" role="doc-biblioref">Bryan 2021</a>)</span><a href="#fnref17" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn18"><p>Other popular options are: <a href="https://code.visualstudio.com/">visual studio code</a> and <a href="https://docs.github.com/en/desktop/installing-and-configuring-github-desktop/overview/getting-started-with-github-desktop">github desktop</a>.<a href="#fnref18" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn19"><p><img src="img/commit.png" class="img-fluid"><a href="#fnref19" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn20"><p><img src="img/push.png" class="img-fluid"><a href="#fnref20" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn21"><p><img src="img/pull.png" class="img-fluid"><a href="#fnref21" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn22"><p>You can find a step by step guide to create a branch <a href="https://docs.github.com/en/get-started/quickstart/hello-world#create-a-branch">here</a>.<a href="#fnref22" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn23"><p>Only users with read access to a repository can create a branch, and only users with write access to a repository can push a branch.<a href="#fnref23" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn24"><p>You can find a step by step guide to open a pull request <a href="https://docs.github.com/en/get-started/quickstart/hello-world#opening-a-pull-request">here</a>.<a href="#fnref24" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn25"><p>You can find a step by step guide to delete a branch <a href="https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/managing-branches-in-your-repository/deleting-and-restoring-branches-in-a-pull-request#deleting-a-branch-used-for-a-pull-request">here</a>.<a href="#fnref25" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn26"><p>You can find a step by step guide to fork a repository <a href="https://docs.github.com/en/get-started/quickstart/fork-a-repo#forking-a-repository">here</a>.<a href="#fnref26" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn27"><p><a href="https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions#create-an-example-workflow">A workflow example</a>.<a href="#fnref27" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn28"><p>Consider, for example, those provided in the following sites: https://rmarkdown.rstudio.com/gallery.html https://juba.github.io/rmdformats/ https://www.datadreaming.org/post/r-markdown-theme-gallery/ https://rpubs.com/ranydc/rmarkdown_themes<a href="#fnref28" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn29"><p>Use <a href="https://bookdown.org/yihui/rmarkdown-cookbook/rstudio-shortcuts.html">RStudio keyboard shortcuts</a> to create chunks.<a href="#fnref29" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn30"><p>If we set <code>eval = TRUE</code>, the code will be evaluated. Otherwise, when using <code>eval = FALSE</code> it will not.<a href="#fnref30" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn31"><p>If we set <code>include = TRUE</code>, the code will be included. Otherwise, when using <code>include = FALSE</code> it will not. However, the code will still be evaluated.<a href="#fnref31" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn32"><p>If we set <code>echo = TRUE</code>, both the code and its output will be shown. Otherwise, when using <code>echo = FALSE</code> only its output will be shown.<a href="#fnref32" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn33"><p>More details: <a href="https://bookdown.org/yihui/rmarkdown-cookbook/rmarkdown-process.html">what happens when we render?</a><span class="citation" data-cites="xieMarkdownCookbook2020">(<a href="#ref-xieMarkdownCookbook2020" role="doc-biblioref">Xie, Dervieux, and Riederer 2020</a>)</span><a href="#fnref33" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn34"><p>This section relies on this <a href="https://bookdown.org/yihui/rmarkdown/markdown-syntax.html">book</a> on how to use RMarkdown syntax and RMarkdown’s <a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">cheat sheet</a>.<a href="#fnref34" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn35"><p>You can explore communities such as the <a href="https://r-community.org/usergroups/">R Community</a> or <a href="https://rladies.org/">R-Ladies</a>.<a href="#fnref35" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>